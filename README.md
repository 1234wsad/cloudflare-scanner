# cloudflare-scanner
扫描cloudflare ip 并选出延迟和速度都符合要求的ip

功能特点：
   1.  配置自定义，可自行配置延迟、丢包、速度等条件筛选符合自己要求的ip（更多配置详见config.yaml文件）
   2.  对接dnspod api ，筛选出的ip可直接更新到dnspod
   3.  高性能，延迟和速度测试可选择开启的协程数，加快测试速度（协程开启过多可能影响结果准确性）
   4.  多平台，已经打包多平台运行版本，可在windows、macos、linux等平台运行

根据自己使用平台下载release版本，解压后把config-example.yaml文件重命名为config.yaml ，并根据个人需求修改相关配置即可

由于延迟和速度测试不能几秒得到结果，按照默认config设置跑完出结果最坏情况需要大概3分钟时间，修改ping次数、下载时间等参数等可以减少或增加消耗的时间，请根据自己口味修改。

配置项中的 测试资源url，该资源需缓存在cloudflare上，目前该配置中使用的是我自己的cloudflare worker，由于有10万次请求限制，且后面可能该链接不能使用，建议替换（例如：使用cloudflare的图床的图片链接等）

输出的ip数据结果为数组：[104.25.169.99 10 9 90.00 147.35 1.66] 依次为ip、ping总次数、ping成功次数、ping成功率、延迟(ms)、下载速度(mb/s)